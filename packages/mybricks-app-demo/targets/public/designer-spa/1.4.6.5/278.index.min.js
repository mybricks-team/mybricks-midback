"use strict";(self.webpackChunkmybricks=self.webpackChunkmybricks||[]).push([[278],{10628:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(37009),i=n.n(o),r=n(48814),s=n.n(r)()(i());s.push([e.id,".error-eac54 {\n  font-size: 12px;\n  color: #f5222d;\n  overflow: hidden;\n  white-space: pre-wrap;\n}\n",""]),s.locals={error:"error-eac54"};const l=s},77832:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(37009),i=n.n(o),r=n(48814),s=n.n(r)()(i());s.push([e.id,"@keyframes slipInto-ee1b4 {\n  0% {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  100% {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n.main-c2c66 {\n  animation: slipInto-ee1b4 0.1s ease-in-out 1;\n}\n",""]),s.locals={main:"main-c2c66",slipInto:"slipInto-ee1b4"};const l=s},65500:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(37009),i=n.n(o),r=n(48814),s=n.n(r)()(i());s.push([e.id,".container-aefdf {\n  position: fixed;\n  right: 20px;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  z-index: 9999;\n}\n.container-aefdf .itemWrap-cf916 {\n  position: relative;\n}\n.container-aefdf .item-a50a1 {\n  padding: 16px;\n  background-color: #fff;\n  margin-bottom: 8px;\n  border-radius: 4px;\n  max-width: 50vw;\n  max-height: 50vh;\n  overflow: auto;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05);\n  font-size: 12px;\n}\n.container-aefdf .errorItem-c0af1 {\n  color: #f5222d;\n}\n.container-aefdf .closeIcon-e4a30 {\n  position: absolute;\n  right: 16px;\n  top: 16px;\n  width: 24px;\n  height: 24px;\n  padding: 2px;\n  cursor: pointer;\n}\n.container-aefdf .closeIcon-e4a30:hover {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.12);\n}\n",""]),s.locals={container:"container-aefdf",itemWrap:"itemWrap-cf916",item:"item-a50a1",errorItem:"errorItem-c0af1",closeIcon:"closeIcon-e4a30"};const l=s},466:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(37009),i=n.n(o),r=n(48814),s=n.n(r)()(i());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.slot-ec09e {\n  width: 100%;\n  height: 100% !important;\n  position: relative;\n}\n.lyFlexColumn-e62bf {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-bc7e7 {\n  display: flex;\n  flex-direction: row;\n}\n.justifyContentFlexStart-c566f {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-f2551 {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-f18af {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-dd0f6 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-c1027 {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-fb8e7 {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-ad15a {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-ded5b {\n  align-items: flex-end;\n}\n.debugFocus-c5006 {\n  outline: 1px dashed red;\n  outline-offset: -3px;\n}\n.com-e0c1f {\n  flex-shrink: 0;\n}\n.flex-ecc94 {\n  flex: 1;\n  min-height: 0;\n  position: relative;\n}\n.flex-ecc94 > div {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n.flex-ecc94 > * {\n  height: 100%;\n}\n.error-a9a37 {\n  font-size: 12px;\n  color: #f5222d;\n  overflow: hidden;\n}\n.errorRT-a282a {\n  padding: 5px;\n  border: 1px dashed #f5222d;\n}\n.errorRT-a282a .tt-a8441 {\n  font-size: 12px;\n  color: #f5222d;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.errorRT-a282a .info-abfdc {\n  color: #f5222d;\n  margin-bottom: 5px;\n}\n",""]),s.locals={slot:"slot-ec09e",lyFlexColumn:"lyFlexColumn-e62bf",lyFlexRow:"lyFlexRow-bc7e7",justifyContentFlexStart:"justifyContentFlexStart-c566f",justifyContentFlexCenter:"justifyContentFlexCenter-f2551",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-f18af",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-dd0f6",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-c1027",alignItemsFlexStart:"alignItemsFlexStart-fb8e7",alignItemsFlexCenter:"alignItemsFlexCenter-ad15a",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-ded5b",debugFocus:"debugFocus-c5006",com:"com-e0c1f",flex:"flex-ecc94",error:"error-a9a37",errorRT:"errorRT-a282a",tt:"tt-a8441",info:"info-abfdc"};const l=s},62741:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(37009),i=n.n(o),r=n(48814),s=n.n(r)()(i());s.push([e.id,".debugger-ceb5e {\n  width: 100%;\n  height: 100%;\n  background-color: #1b1b1b73;\n}\n.debugger-ceb5e .titlebar-ff1f6 {\n  font-size: 12px;\n  line-height: 23px;\n  position: absolute;\n  top: 10%;\n  height: 23px;\n  padding: 0px 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  align-items: center;\n  background-color: #faf8df;\n}\n.debugger-ceb5e .titlebar-ff1f6 .resume-b5b4f {\n  display: flex;\n  padding-left: 4px;\n  cursor: pointer;\n}\n.debugger-ceb5e .titlebar-ff1f6 .resume-b5b4f svg path {\n  fill: #FA6400;\n}\n",""]),s.locals={debugger:"debugger-ceb5e",titlebar:"titlebar-ff1f6",resume:"resume-b5b4f"};const l=s},6536:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(93379),i=n.n(o),r=n(7795),s=n.n(r),l=n(3565),c=n.n(l),a=n(19216),d=n.n(a),p=n(44589),u=n.n(p),f=n(10628),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var g,y=0,h={};h.styleTagTransform=u(),h.setAttributes=c(),h.insert=function(e,t){(t.target||document.head).appendChild(e)},h.domAPI=s(),h.insertStyleElement=d(),m.use=function(e){return h.options=e||{},y++||(g=i()(f.Z,h)),m},m.unuse=function(){y>0&&!--y&&(g(),g=null)};const v=m},94555:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(93379),i=n.n(o),r=n(7795),s=n.n(r),l=n(3565),c=n.n(l),a=n(19216),d=n.n(a),p=n(44589),u=n.n(p),f=n(77832),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var g,y=0,h={};h.styleTagTransform=u(),h.setAttributes=c(),h.insert=function(e,t){(t.target||document.head).appendChild(e)},h.domAPI=s(),h.insertStyleElement=d(),m.use=function(e){return h.options=e||{},y++||(g=i()(f.Z,h)),m},m.unuse=function(){y>0&&!--y&&(g(),g=null)};const v=m},68706:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(93379),i=n.n(o),r=n(7795),s=n.n(r),l=n(3565),c=n.n(l),a=n(19216),d=n.n(a),p=n(44589),u=n.n(p),f=n(65500),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var g,y=0,h={};h.styleTagTransform=u(),h.setAttributes=c(),h.insert=function(e,t){(t.target||document.head).appendChild(e)},h.domAPI=s(),h.insertStyleElement=d(),m.use=function(e){return h.options=e||{},y++||(g=i()(f.Z,h)),m},m.unuse=function(){y>0&&!--y&&(g(),g=null)};const v=m},41647:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(93379),i=n.n(o),r=n(7795),s=n.n(r),l=n(3565),c=n.n(l),a=n(19216),d=n.n(a),p=n(44589),u=n.n(p),f=n(466),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var g,y=0,h={};h.styleTagTransform=u(),h.setAttributes=c(),h.insert=function(e,t){(t.target||document.head).appendChild(e)},h.domAPI=s(),h.insertStyleElement=d(),m.use=function(e){return h.options=e||{},y++||(g=i()(f.Z,h)),m},m.unuse=function(){y>0&&!--y&&(g(),g=null)};const v=m},94655:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(93379),i=n.n(o),r=n(7795),s=n.n(r),l=n(3565),c=n.n(l),a=n(19216),d=n.n(a),p=n(44589),u=n.n(p),f=n(62741),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var g,y=0,h={};h.styleTagTransform=u(),h.setAttributes=c(),h.insert=function(e,t){(t.target||document.head).appendChild(e)},h.domAPI=s(),h.insertStyleElement=d(),m.use=function(e){return h.options=e||{},y++||(g=i()(f.Z,h)),m},m.unuse=function(){y>0&&!--y&&(g(),g=null)};const v=m},27579:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(33970),i=n(22995),r=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function l(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}c((o=o.apply(e,t||[])).next())}))};const s="_rootFrame_";function l(e,{observable:t}){const{json:n,getComDef:l,env:c,ref:a,onError:d,logger:p,debug:u,debugLogger:f,_isNestedRender:m,_context:g}=e,y=e.scenesOperate||c.scenesOperate,{slot:h,coms:v={},comsAutoRun:b={},cons:x=[],pinRels:I={},pinProxies:w={},pinValueProxies:C={},type:E}=n,j=c,S={},_={},O={},P={},k={};Object.keys(x).forEach((e=>{const t=x[e],{startPinParentKey:n}=t[0];n&&(k[n]=e)}));const R={},A={},T={},$={},D={},L={};function F(e,t,r){if(!m)if("com"===e){const{com:e,pinHostId:s,val:l,fromCon:c,notifyAll:a,comDef:d,conId:p}=t;f?f("com","output",{id:e.id,pinHostId:s,val:(0,i.Am)(l),fromCon:c,notifyAll:a,comDef:d,sceneId:n.id,conId:p},r):(0,o.J2)(e.title,d,s,l)}else if("frame"===e){const{comId:e,frameId:o,pinHostId:s,val:l,sceneId:c,conId:a}=t;f&&f("frame","output",{comId:e,frameId:o,pinHostId:s,val:(0,i.Am)(l),sceneId:c||n.id,conId:a},r)}}function M(e,t){if(m)return;const{com:r,pinHostId:s,val:l,frameKey:c,finishPinParentKey:a,comDef:d,conId:p}=e;p&&(f?f("com","input",{id:r.id,pinHostId:s,val:(0,i.Am)(l),frameKey:c,finishPinParentKey:a,comDef:d,sceneId:n.id,conId:p},t):(0,o.Wg)(r.title,d,s,l))}function N(e,t,n,o){var r,s,l;const c=w[e.comId+"-"+e.pinId];let a=e;if(c){const s="mybricks.core-comlib.frame-output"===(null===(r=a.def)||void 0===r?void 0:r.namespace);if(s)a=Object.assign(Object.assign({},e),{type:c.type,frameId:c.frameId,pinId:c.pinId,direction:"inner-input",comId:(e.targetFrameKey||e.frameKey).split("-")[0]});else{if(T[`${c.frameId}-${c.pinId}`]=n,o&&o.finishPinParentKey!==a.startPinParentKey)return;if("frame"===c.type){const e=J(a.comId,t);let o;o={id:(0,i.Vj)(10,16),frameId:c.frameId,parent:t,proxyComProps:e};if("mybricks.core-comlib.fn"===a.def.namespace){const{configs:t}=e.data;t&&Object.entries(t).forEach((([e,t])=>{const{frameId:n,comId:i,pinId:r}=c,s=x[(i?`${i}-${n}`:`${n}`)+"-"+e];s&&Z({logProps:null,cons:s,val:t,curScope:o})}))}return X({options:c,value:n,scope:o,comProps:e}),void(s||U({frameId:c.frameId,scope:o}))}}}if("com"===a.type)o?o.finishPinParentKey===a.startPinParentKey&&H(a,n,t):H(a,n,t);else{if("frame"!==a.type)throw new Error("尚未实现");if(o&&o.finishPinParentKey!==a.startPinParentKey)return;if(a.comId){if("inner-input"===a.direction){const e=_[a.frameKey+"-"+a.pinId]||_[a.comId+"-"+a.frameId+"-"+((null===(s=null==t?void 0:t.parent)||void 0===s?void 0:s.id)?t.parent.id+"-":"")+a.pinId];e&&e(n)}else if("inner-output"===a.direction&&"joint"===a.pinType){const e=x[a.comId+"-"+a.frameId+"-"+a.pinId];e&&Z({logProps:null,cons:e,val:n})}}else{const e=null==t?void 0:t.proxyComProps;if(e){const o=e.outputs[a.pinId];if(o)return void o(n,t.parent)}null===(l=P[a.pinId])||void 0===l||l.call(P,n)}}}function Z({logProps:e,cons:t,val:n,curScope:o,fromCon:i,notifyAll:l,fromCom:c,isAutoRun:a}){u&&"module"!==E&&t.sort(((e,t)=>e.isBreakpoint&&!t.isBreakpoint?-1:!e.isBreakpoint&&t.isBreakpoint?1:0)),t.forEach((t=>r(this,void 0,void 0,(function*(){var r,d;const{comId:p,pinId:f,pinType:m,timerPinInputId:y,frameKey:h}=t,b=v[p];if(!(i&&i.finishPinParentKey!==t.startPinParentKey||u&&t.isIgnored)){if(u&&"module"!==E&&(null===(r=g.debuggerPanel)||void 0===r?void 0:r.hasBreakpoint(t))){let n=!0;yield null===(d=g.debuggerPanel)||void 0===d?void 0:d.wait(t,(()=>{n=!1,e&&(e[1].conId=t.id,e&&F(...e,!0))})),n&&e&&(e[1].conId=t.id,e&&F(...e))}else e&&F(...e);if("timer"===m)B({value:n,curScope:o,inReg:t,notifyAll:l,fromCon:i});else if(l){const e=t.frameKey;if(e===s||a)K({pinId:f,value:n,component:b,curScope:null,comId:p,val:n,timerPinInputId:y,frameKey:e,inReg:t,notifyAll:l,fromCon:i});else{const[r,s]=e.split("-");if($[e]){const n=$[e],o=n[c.id];o?o[t.id]=t:n[c.id]={[t.id]:t}}else{($[e]={})[c.id]={[t.id]:t}}if(c.parentComId)K({pinId:f,value:n,component:b,curScope:o,comId:r,val:n,timerPinInputId:y,frameKey:e,inReg:t,notifyAll:l,fromCon:i});else{const o=S[`${r}-${s}`];if(o){const s=Object.entries(o),c=s.length;s.forEach((([o,s])=>{c>1&&"slot"===o||("scope"===(null==s?void 0:s.type)?s.curScope?K({pinId:f,value:n,component:b,curScope:s.curScope,comId:r,val:n,timerPinInputId:y,frameKey:e,inReg:t,notifyAll:l,fromCon:i}):s.pushTodo((o=>{K({pinId:f,value:n,component:b,curScope:o,comId:r,val:n,timerPinInputId:y,frameKey:e,inReg:t,notifyAll:l,fromCon:i})})):K({pinId:f,value:n,component:b,curScope:s.curScope,comId:r,val:n,timerPinInputId:y,frameKey:e,inReg:t,notifyAll:l,fromCon:i}))}))}}}}else K({pinId:f,value:n,component:b,curScope:o,comId:p,val:n,timerPinInputId:y,frameKey:h,inReg:t,notifyAll:l,fromCon:i})}}))))}function B({pinId:e,value:t,curScope:n,inReg:o,notifyAll:i,fromCon:r}){let l=n;const c=e?Object.assign(Object.assign({},o),{pinId:e}):o;if(i){const e=c.frameKey;if(!e)throw new Error("数据异常，请检查toJSON结果.");N(c,e===s?{}:n,t,r)}else{const e=c.frameKey.split("-");if(e.length>=2&&!l){const n=V(e[0],e[1],null,!1);"scope"===(null==n?void 0:n.type)?n.curScope?N(c,n.curScope,t,r):n.pushTodo((e=>{N(c,e,t,r)})):N(c,l,t,r)}else N(c,l,t,r)}}function K({pinId:e,value:t,component:n,curScope:o,comId:i,val:r,timerPinInputId:s,frameKey:l,inReg:c,notifyAll:a,fromCon:d}){const{isReady:p,isMultipleInput:u,pinId:f,value:m,cb:g}=function({pinId:e,value:t,component:n,curScope:o,comId:i,val:r}){const s=e.indexOf("."),l={pinId:e,value:t,isReady:!0,isMultipleInput:!1,cb:null};if(n&&-1!==s){const t=n.id+""+((null==o?void 0:o.id)?`-${o.id}`:""),{inputs:i}=n,c=e.substring(0,s);l.pinId=c;const a=e.substring(s+1);let d=R[t];d||(d=R[t]={}),d[a]=r;const p=new RegExp(`${c}.`),u=i.filter((e=>!!e.match(p)));Object.keys(d).length===u.length?(l.value=d,l.isMultipleInput=!0,l.cb=()=>{Reflect.deleteProperty(R,t)}):l.isReady=!1}return l}({pinId:e,value:t,component:n,curScope:o,comId:i,val:r});if(p){const e={pinId:u?f:null,value:m,curScope:o,inReg:c,notifyAll:a,fromCon:d};if(s){const t=s+"-"+l+((null==o?void 0:o.id)?`-${o.id}`:""),n=A[t];if(n){const{ready:o,todo:i}=n;if(o){let n=!1;Object.entries(i).forEach((([t,o])=>{t===f?(B(e),n=!0):o()})),n||B(e),null==g||g(),Reflect.deleteProperty(A,t)}else i[f]=()=>{null==g||g(),B(e)}}else A[t]={ready:!1,todo:{[f]:()=>{null==g||g(),B(e)}}}}else null==g||g(),B(e)}}function J(e,n){var o,i,r;const a=v[e];if(!a)return null;const f=e+(a.frameId||s);let m,g=S[f];g||(g=S[f]={});let h=n;for(!h&&a.parentComId&&a.frameId&&(h=null===(i=null===(o=S[`${a.parentComId}-${a.frameId}`])||void 0===o?void 0:o.slot)||void 0===i?void 0:i.curScope);h;){const t=h.id+"-"+e;if(h.frameId===a.frameId){m=h.id;const e=g[t];if(e)return e;{const e=h.parentComId;if(!e)break;if(e===a.paramId||e===a.parentComId)break}}h=h.parent}const b=(m?m+"-":"")+e,C=g[b];if(C)return C;const E=a.def,j=a.model,_=JSON.parse(JSON.stringify(j.data)),O=JSON.parse(JSON.stringify(j.style));O.__model_style__=!0;const P={},k={},R={},A={},$=function(e){return new Proxy({},{ownKeys:e=>a.inputs,getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get:(t,n)=>function(t){if("[object Symbol]"===Object.prototype.toString.call(n))return;const o=null==e?void 0:e.inputs;if(o){const e=o[n];"function"==typeof e&&e(t)}P[n]=t;const i=k[n];i&&(i.forEach((({val:e,fromCon:n,fromScope:o})=>{t(e,new Proxy({},{get:(e,t)=>function(e){if("[object Symbol]"===Object.prototype.toString.call(t))return;const i=B()[t];if("function"!=typeof i)throw new Error(`outputs.${t} not found`);i(e,o||h,n)}}))})),k[n]=void 0)}})},M=new Proxy({},{get:(t,o)=>function(t){if("[object Symbol]"===Object.prototype.toString.call(o))return;const i=I[e+"-"+o];if(i){const r={},s={};return i.forEach((e=>{r[e]=t=>{s[e]=t}})),Promise.resolve().then((()=>{H({comId:e,def:E,pinId:o},t,n,s)})),r}H({comId:e,def:E,pinId:o},t,n)}}),N=new Proxy({},{get:(t,n)=>function(t){if("[object Symbol]"===Object.prototype.toString.call(n))return;const o=w[e+"-"+n];o&&(null==y||y.inputs(Object.assign(Object.assign({},o),{value:t,parentScope:V})))}}),B=function(t){return new Proxy({},{ownKeys:e=>a.outputs,getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get(o,i,r){const s=function(o,r,s,d){if("[object Symbol]"===Object.prototype.toString.call(i))return;const p="boolean"==typeof r&&r;if(p){if(a.parentComId){const t=`${a.parentComId}-${a.frameId}`;L[t]?L[t][e]=!0:L[t]={[e]:!0}}if(D[`${a.id}${(null==n?void 0:n.id)?`-${n.id}`:""}`]=o,a.global&&!d)return void(null==y||y.exeGlobalCom({com:a,value:o,pinId:i}))}const u=arguments,f=null==t?void 0:t.outputs;if(f){const e=f[i];"function"==typeof e&&e(o)}let m;r&&"object"==typeof r&&(m=r);const g=l(E);if(!g)return;const h=j.outputEvents;let v;if(h){const t=h[i];if(t&&Array.isArray(t)){const n=t.find((e=>e.active));if(n){const{type:t}=n;switch(t){case"none":v=[];break;case"fx":const r=w[e+"-"+i];if("frame"===(null==r?void 0:r.type)){const e=`${r.frameId}-${r.pinId}`;v=x[e]||[],T[e]=o}else v=[];break;case"defined":break;default:if(v=[],Array.isArray(null==c?void 0:c.events)){const e=c.events.find((e=>{if(e.type===t)return e}));e&&"function"==typeof e.exe&&e.exe({options:n.options})}}}}}v=v||x[e+"-"+i],(null==v?void 0:v.length)?Z(u.length>=3&&void 0===d?{logProps:["com",{com:a,pinHostId:i,val:o,fromCon:s,notifyAll:p,comDef:g}],cons:v,val:o,curScope:m,fromCon:s,fromCom:a}:{logProps:["com",{com:a,pinHostId:i,val:o,fromCon:s,notifyAll:p,comDef:g}],cons:v,val:o,curScope:m||n,fromCon:s,notifyAll:p,fromCom:a}):F("com",{com:a,pinHostId:i,val:o,fromCon:s,notifyAll:p,comDef:g})};return s.getConnections=()=>x[e+"-"+i]||[],s}})},K=new Proxy({},{get:(e,t,n)=>function(e){if("[object Symbol]"===Object.prototype.toString.call(t))return;R[t]=e;const n=A[t];n&&(n.forEach((t=>{e(t)})),A[t]=void 0)}}),W=new Proxy({},{get:(t,o,i)=>function(t){if("[object Symbol]"===Object.prototype.toString.call(o))return;const i=x[e+"-"+o];i?Z({logProps:["com",{com:a,pinHostId:o,val:t,comDef:E}],cons:i,val:t,curScope:n}):F("com",{com:a,pinHostId:o,val:t,comDef:E})}});const z=null===(r=E.rtType)||void 0===r?void 0:r.match(/^js/gi),V={id:a.id,title:a.title,frameId:a.frameId,parentComId:a.parentComId,data:z?_:t(_),style:z?O:t(O),_inputRegs:P,addInputTodo:(e,t,n,o)=>{let i=k[e];i||(k[e]=i=[]),i.push({val:t,fromCon:n,fromScope:o})},inputs:$(),inputsCallable:M,_inputsCallable:N,outputs:B(),_inputs:K,_outputs:W,clone(e){const t={inputs:$(e),outputs:B(e)};return Object.setPrototypeOf(t,this),t},_notifyBindings:function(e){if(a.global)return void(null==y||y._notifyBindings(e,a));const{bindingsTo:t}=a.model;if(t)for(let n in t){const o=J(n);if(o){const i=t[n];Array.isArray(i)&&i.forEach((t=>{let n=o;const i=t.split(".");i.forEach(((t,o)=>{o!==i.length-1?n=n[t]:n[t]=e}))}))}}},logger:p,onError:u?t=>d({comId:e,error:t,title:a.title}):d};return g[b]=V,V}function W(e,t){let n=T[`${e}${t?`-${t.id}-${t.frameId}`:""}`];return void 0===n&&(null==t?void 0:t.parent)&&(n=W(e,t.parent)),(0,i.bV)(n)}function H(e,t,o,i){var r;const{comId:c,def:a,pinId:f,pinType:m,frameKey:g,finishPinParentKey:h,timerPinInputId:b,targetFrameKey:w}=e;if("ext"===m){const n=S[c]||J(c,o);if("show"===f)n.style.display="";else if("hide"===f)n.style.display="none";else if("showOrHide"===f){const e=n.style;void 0===t?"none"===e.display?e.display="":e.display="none":e.display=t?"":"none"}const i=l(a);if(!i)return;M({com:n,val:t,pinHostId:f,frameKey:g,finishPinParentKey:h,comDef:i,conId:e.id})}else if("config"===m){const n=J(c,o),i=l(a);if(!i)return;M({com:n,pinHostId:f,val:t,frameKey:g,finishPinParentKey:h,comDef:i,conId:e.id});const{extBinding:r}=e,s=r.split(".");let d=n;s.forEach(((e,n)=>{n!==s.length-1?d=d[e]:d[e]=t}))}else if("timer"===m){const n=J(c,o),i=l(a);if(!i)return;M({com:n,pinHostId:f,val:t,frameKey:g,finishPinParentKey:h,comDef:i,conId:e.id});const r=b+"-"+g+((null==o?void 0:o.id)?`-${o.id}`:""),s=A[r];if(s){const{todo:e}=s;Object.entries(e).forEach((([e,t])=>t())),Reflect.deleteProperty(A,r)}else A[r]={ready:!0,todo:{}}}else if(null===(r=a.rtType)||void 0===r?void 0:r.match(/^js/gi)){const i=v[c];if(i){const r=J(c,o),m=l(a);if(!m)return;if(i.global){const e=null==y?void 0:y.getGlobalComProps(c);e&&(r.data=e.data)}const v=null==o?void 0:o.id,b=(v?v+"-":"")+c;i.inputs.find((e=>e===f))?M({com:i,val:t,pinHostId:f,frameKey:g,finishPinParentKey:h,comDef:m,conId:e.id}):Object.entries(t).forEach((([t,n])=>{M({com:i,val:n,pinHostId:`${f}.${t}`,frameKey:g,finishPinParentKey:h,comDef:m,conId:e.id})})),O[b]||(O[b]=!0,m.runtime({env:j,data:r.data,inputs:r.inputs,outputs:r.outputs,_notifyBindings:r._notifyBindings,_inputsCallable:r._inputsCallable,logger:p,onError:u?e=>d({comId:c,error:e,title:i.title}):d}));const x=r._inputRegs[f];"function"==typeof x&&x(t,new Proxy({},{get:(t,i)=>function(t){if("[object Symbol]"!==Object.prototype.toString.call(i)){if(C){const e=C[`${c}-${f}`];if(e){const i=`${e.frameId===n.id?s:w||g}-${e.pinId}`;void 0===(t=W(i,o))&&(t=W(i,null))}}r.outputs[i](t,o,e)}}}))}}else{const n=J(c,o);if(!n)return;const r=l(a);if(!r)return;M({com:n,pinHostId:f,val:t,frameKey:g,finishPinParentKey:h,comDef:r,conId:e.id});const s=n._inputRegs[f];if("function"==typeof s){let r;r=i||new Proxy({},{get:(t,i)=>function(t){"[object Symbol]"!==Object.prototype.toString.call(i)&&n.outputs[i](t,o,e)}}),s(t,r)}else n.addInputTodo(f,t,e,o)}if(h){const e=x[k[h]];e&&!I[`${c}-${f}`]&&Z({logProps:null,cons:e,val:void 0})}}function z(e,t){let n;return(null==e?void 0:e.comAry)&&e.comAry.find((e=>{if(e.id===t)return n=e,e;if(e.slots)for(let o in e.slots)if(n=z(e.slots[o],t),n)return n})),n}function V(e,t,n,o){const i=`${e}-${t}`;let r=S[i];r||(r=S[i]={});let s=n?n.id:"slot",l=r[s];if(o&&!l&&console.log("不应该再走到这儿了: ",{comId:e,slotId:t,scope:n,notifyAll:o}),!l){const o=z(h,e);if(!(null==o?void 0:o.slots))return null;const c=null==o?void 0:o.slots[t],a={};let d;if(n){const n=S[e+"-"+t];n&&(d=n.todo)}const p={scope:n,todo:d},u=new Proxy({},{get:(e,t)=>function(e){"[object Symbol]"!==Object.prototype.toString.call(t)&&(a[t]=e)}}),f=new Proxy({},{get(n,o){const i=function(n,i){if("[object Symbol]"===Object.prototype.toString.call(o))return;const r=e+"-"+t+"-"+o,s=x[r];T[`${r}${i?`-${i.id}-${i.frameId}`:""}`]=n,s?Z({logProps:["frame",{comId:e,frameId:t,pinHostId:o,val:n}],cons:s,val:n,curScope:i||p.scope}):F("frame",{comId:e,frameId:t,pinHostId:o,val:n})};return i.getConnections=()=>x[e+"-"+t+"-"+o]||[],i}}),m=new Proxy({},{get:(e,t,n)=>function(e){"[object Symbol]"!==Object.prototype.toString.call(t)&&(_[s+"-"+t]=e,_[i+"-"+t]=e)}});let g={};l=r[s]={type:null==c?void 0:c.type,run(n){let o=p.scope;n&&o!==n&&(p.scope=n,o=n);const i=(null==o?void 0:o.id)||"none";if(g[i]||(g[i]=!0,U({comId:e,frameId:t,scope:o})),Array.isArray(p.todo)&&(p.todo.forEach((e=>{Promise.resolve().then((()=>{e(o)}))})),p.todo=void 0),o&&"slot"!==s){const n=$[`${e}-${t}`];Promise.resolve().then((()=>{n&&Object.entries(n).forEach((([e,t])=>{if(!v[e].parentComId){const n=Object.entries(t).map((([e,t])=>t));n.length&&Z({logProps:null,cons:n,val:D[e],curScope:o,notifyAll:!0,fromCom:v[e],isAutoRun:!0})}}))}))}},destroy(){if(n){const e=`${n.parentComId}-${n.frameId}`,t=L[e];t&&Object.keys(t).forEach((e=>{Reflect.deleteProperty(D,`${e}-${n.id}`)}))}Reflect.deleteProperty(r,s)},_inputs:u,_inputRegs:a,inputs:f,outputs:m,get curScope(){return p.scope},setCurScope(e){p.scope=e},get todo(){return p.todo},pushTodo(e){p.todo||(p.todo=[]),p.todo.push(e)}}}return l}function U(e){const{comId:t,frameId:n,scope:o}=e,i=b[t?`${t}-${n}`:`${n}`];i&&i.forEach((e=>{const{id:t,def:n}=e,i=v[t];if(i){const e=J(t,o),r=l(n);if(!r)return;r.runtime({env:j,data:e.data,inputs:e.inputs,outputs:e.outputs,_inputsCallable:e._inputsCallable,logger:p,onError:u?e=>d({comId:t,error:e,title:i.title}):d})}}))}function X({options:e,value:t,scope:o,log:i=!0,comProps:r}){const{frameId:l,comId:c,pinId:a,sceneId:d}=e,p=x[(c?`${c}-${l}`:`${l}`)+"-"+a];T[`${l}-${a}`]=t,p?Z({logProps:["frame",{comId:c,frameId:l,pinHostId:a,val:t,sceneId:d}],cons:p,val:t,curScope:o}):(i&&F("frame",{comId:c,frameId:l,pinHostId:a,val:t,sceneId:d}),l!==s&&(n.id===l?P[a](t):null==y||y.open({frameId:l,todo:{pinId:a,value:t},comProps:r,parentScope:o.proxyComProps})))}const G={get({comId:e,slotId:t,scope:n,_ioProxy:o}){let i;if(o&&(o.inputs||o.outputs||o._inputs||o._outputs)&&(i=o),t)return V(e,t,n);{const t=J(e,n);return i?t.clone(i):t}},getComInfo:e=>v[e]};if("function"==typeof a){a({run(){U({frameId:s})},inputs:new Proxy({},{get:(e,t)=>function(e,n=void 0,o=!0){"[object Symbol]"!==Object.prototype.toString.call(t)&&X({options:{frameId:s,pinId:t,sceneId:n},value:e,scope:void 0,log:o})}}),outputs(e,t){P[e]=t},get:G.get,getComInfo:G.getComInfo})}return G}},33970:(e,t,n)=>{n.d(t,{J2:()=>s,JE:()=>i,Wg:()=>r});let o=!1;function i(){o=!0}function r(e,t,n,i){if(o)return;let r;try{r=JSON.stringify(i)}catch(e){r=i}console.log(`%c [MyBricks] 输入项 %c ${e||t.title||t.namespace} | ${n} -> ${r}`,"color:#FFF;background:#000","","")}function s(e,t,n,i){if(o)return;let r;try{r=JSON.stringify(i)}catch(e){r=i}console.log(`%c [MyBricks] 输出项 %c ${e||t.title||t.namespace} | ${n} -> ${r}`,"color:#FFF;background:#fa6400","","")}},22995:(e,t,n)=>{function o(e){return e&&"object"==typeof e}function i(e){return"number"==typeof e&&!isNaN(e)}function r(e,t){const n=e.split("."),o=t.split("."),i=n.length,r=o.length,s=Math.min(i,r);let l=0;for(;l<s;l++){let e=parseInt(n[l]),t=parseInt(o[l]);if(e>t)return 1;if(e<t)return-1}if(i>r){for(let e=l;e<i;e++)if(0!=parseInt(n[e]))return 1;return 0}if(i<r){for(let e=l;e<r;e++)if(0!=parseInt(o[e]))return-1;return 0}return 0}function s(e=5,t=8){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||n.length,e)for(let i=0;i<e;i++)o[i]=n[0|Math.random()*t];else{let e;o[8]=o[13]=o[18]=o[23]="-",o[14]="4";for(let t=0;t<36;t++)o[t]||(e=0|16*Math.random(),o[t]=n[19==t?3&e|8:e])}return o.join("")}function l(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}n.d(t,{Am:()=>m,Kn:()=>o,Lc:()=>l,Ok:()=>f,Q1:()=>u,Vj:()=>s,bV:()=>h,hj:()=>i,o4:()=>y,p$:()=>v,yC:()=>r});const c=function(e,t,n,o){return function(i,r){var s,l,c,a,d=parseFloat(r);return!r||d<=t?i:"".concat((s=d/e,l=n,c=Math.pow(10,l+1),a=Math.floor(s*c),10*Math.round(a/10)/c)).concat(o)}},a=c(12,0,5,"rem"),d=c(3.75,0,5,"vw"),p=/"[^"]+"|'[^']+'|url\([^)]+\)|(\d*\.?\d+)px/g,u=e=>e.replace(p,a),f=e=>e.replace(p,d);function m(e){return e}let g;function y(){var e;return g||(g=(null===(e=document.getElementById("_mybricks-geo-webview_"))||void 0===e?void 0:e.shadowRoot)||document.head)}function h(e){if(e&&"object"==typeof e)try{return e instanceof FormData?e:JSON.parse(JSON.stringify(e))}catch(t){return e}return e}function v(e,t=[]){const n=Object.prototype.toString.call(e);if(null===e||"object"!=typeof e||n.startsWith("[object HTML"))return e;const o=t.filter((t=>t.original===e))[0];if(o)return o.copy;const i=Array.isArray(e)?[]:{};return t.push({original:e,copy:i}),Object.getOwnPropertyNames(e).forEach((n=>{const o=Object.getOwnPropertyDescriptor(e,n);o&&"function"==typeof o.get?Object.defineProperty(i,n,{get:o.get,enumerable:o.enumerable,configurable:o.configurable}):i[n]=v(e[n],t)})),i}},77966:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(90359),i=n.n(o),r=n(5415);const s=n(6536).Z.locals;class l extends i().PureComponent{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){var t;return{hasError:!0,error:(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(t=null==e?void 0:e.toString)||void 0===t?void 0:t.call(e))}}componentDidCatch(e,t){var n,o;console.error(e,t),r.Z.error(e),this.setState({error:(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(n=null==e?void 0:e.toString)||void 0===n?void 0:n.call(e)),errorInfo:(null==t?void 0:t.stack)||(null==t?void 0:t.message)||(null===(o=null==t?void 0:t.toString)||void 0===o?void 0:o.call(t))})}render(){const{hasError:e,error:t,errorInfo:n}=this.state,{children:o,errorTip:r}=this.props;return e?i().createElement("div",{className:s.error},i().createElement("div",null,r||"渲染错误"),i().createElement("div",null,t||n)):o}}},73934:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(90359),i=n.n(o),r=n(50828),s=n(27579),l=n(48959),c=n(5415),a=n(77966);function d({json:e,options:t,style:n={},className:d="",root:p=!0,from:u}){const f=(0,r.useMyBricksRenderContext)(),{env:m,onError:g,logger:y,slot:h,getComDef:v}=(0,o.useMemo)((()=>{const{env:o,debug:i}=t,r=e.slot;return!o.canvas.isValid&&!t._isNestedRender&&i&&"scene"===u&&r&&(n.minHeight=r.style.height),{env:o,onError:f.onError,logger:f.logger,getComDef:e=>f.getComDef(e),slot:r,_context:f}}),[]),[b,x,I]=(0,o.useMemo)((()=>{var n;try{let n,o=!0;return[(0,s.Z)({json:e,getComDef:v,events:t.events,env:m,ref(e){n=e,"function"==typeof t.ref&&(t.ref(e),o=!1)},onError:g,debug:t.debug,debugLogger:t.debugLogger,logger:y,scenesOperate:t.scenesOperate,_isNestedRender:t._isNestedRender,_context:f},{observable:f.observable}),n,o]}catch(e){throw console.error(e),c.Z.error(`导出的JSON.script执行异常: ${(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(n=null==e?void 0:e.toString)||void 0===n?void 0:n.call(e))}`),new Error("导出的JSON.script执行异常.")}}),[]);return(0,o.useLayoutEffect)((()=>{if(!t.disableAutoRun){if(I){const{inputs:n}=x,o=e.inputs;n&&Array.isArray(o)&&o.forEach((e=>{const{id:o,mockData:i}=e;let r;if(t.debug&&void 0!==i)try{r=JSON.parse(decodeURIComponent(i))}catch(e){r=i}n[o](r)}))}x.run()}}),[]),i().createElement(a.Z,{errorTip:"页面渲染错误"},i().createElement(l.Z,{env:m,style:n,_env:t._env,slot:h,getComDef:v,context:b,className:d,createPortal:t.createPortal||(()=>{}),onError:g,logger:y,root:p}))}},69332:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(90359),i=n.n(o),r=n(73934),s=n(50828),l=n(27579),c=n(94555),a=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function l(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}c((o=o.apply(e,t||[])).next())}))};const d=c.Z.locals;function p({json:e,options:t}){const n=(0,s.useMyBricksRenderContext)(),[r,c]=(0,o.useState)(0),[p,m]=(0,o.useState)([]),[g,y]=(0,o.useState)([]),{scenesMap:h,scenesOperateInputsTodo:v,themes:b,permissions:x,globalVarMap:I}=(0,o.useMemo)((()=>{if(t.sceneId){const n=e.scenes.findIndex((e=>e.id===t.sceneId));if(-1!==n){const t=e.scenes.splice(n,1);e.scenes.unshift(...t),"popup"===t[0].type&&m([t[0].id])}}const n=[];e.scenes.forEach(((e,t)=>{"popup"===e.type?t||m([e.id]):n.push(e)})),y(n);const{modules:o,definedComs:i}=e;return t.env.getDefinedComJSON||(t.env.getDefinedComJSON=e=>i[e].json),t.env.getModuleJSON=e=>{var t;return null===(t=null==o?void 0:o[e])||void 0===t?void 0:t.json},{scenesMap:e.scenes.reduce(((e,n,o)=>{var i;return Object.assign(Object.assign({},e),{[n.id]:{show:0===o,todo:[],json:n,disableAutoRun:!(!t.disableAutoRun&&!o),useEntryAnimation:!1,type:(null===(i=n.slot)||void 0===i?void 0:i.showType)||n.type}})}),{}),scenesOperateInputsTodo:{},themes:e.themes,permissions:e.permissions||[],globalVarMap:{}}}),[]);(0,o.useMemo)((()=>{if(t.ref){const e=t.ref;t.ref=n=>o=>(n(o),e.call(t,o))}else t.ref=e=>t=>{e(t)}}),[]);const{fxToJsonMap:w,currentFxFrameIdsMap:C}=(0,o.useMemo)((()=>{const t={},{global:n}=e;if(n){const{fxFrames:e}=n;Array.isArray(e)&&e.forEach((e=>{t[e.id]=e}))}return{fxToJsonMap:t,currentFxFrameIdsMap:{}}}),[]),E=(0,o.useCallback)((o=>{const i=h[o],r=t.env.hasPermission,{env:s}=t;s.themes=b,s.permissions=x,"function"==typeof r&&Object.defineProperty(s,"hasPermission",{get:function(){return e=>{if("string"==typeof e){const t=x.find((t=>t.id===e));return r({permission:t})}return r(e)}}}),s.canvas.open=(e,n,o)=>a(this,void 0,void 0,(function*(){var n,i;let r=h[e];if(!r){if("function"!=typeof t.scenesLoader)return void console.error(`缺少场景信息: ${e}`);const o=yield t.scenesLoader({id:e});if(r={disableAutoRun:!1,json:o,show:!1,parentScope:null,todo:[],type:(null===(n=o.slot)||void 0===n?void 0:n.showType)||o.type,useEntryAnimation:!1},h[e]=r,"popup"===o.type||y((e=>[...e,o])),v[e]){const{parentScope:t,todo:n}=v[e];r.parentScope=t,n.forEach((({value:e,pinId:t,parentScope:n})=>{r.todo=r.todo.concat({type:"inputs",todo:{pinId:t,value:e}})}))}}null===(i=t.scenesLoaded)||void 0===i||i.call(t,r.json),o?Object.entries(h).forEach((([t,n])=>{t===e?(n.useEntryAnimation="blank"===o,n.show=!0,"popup"===n.type?m((t=>[...t,e])):c((e=>e+1))):(n.show=!1,n._refs=null,"popup"===n.type?m((e=>e.filter((e=>e!==n.json.id)))):c((e=>e+1)))})):r.show||(r.useEntryAnimation="blank"===o,r.show=!0,"popup"===r.type?m((t=>[...t,e])):c((e=>e+1)))}));const d={open({todo:o,frameId:i,parentScope:r,comProps:s}){var a;const d=h[i];if(d)d.show||(d.show=!0,d.todo=d.todo.concat({type:"inputs",todo:o}),d.parentScope=r,"popup"===d.type?m((e=>[...e,i])):c((e=>e+1)));else{const c=w[i];if(c)if(C[r.id]){const{_refs:e}=C[r.id];C[r.id].parentScope=r;const t=null===(a=null==s?void 0:s.data)||void 0===a?void 0:a.configs;t&&Object.entries(t).forEach((([t,n])=>{e.inputs[t](n,void 0,!1)})),e.inputs[o.pinId](o.value,void 0,!1),e.run()}else{C[r.id]={};const{id:i}=c,{env:a}=t,d={open({todo:o,frameId:i,parentScope:r,comProps:s}){var c;const a=w[i];if(a)if(C[r.id]){const{_refs:e}=C[r.id];C[r.id].parentScope=r;const t=null===(c=null==s?void 0:s.data)||void 0===c?void 0:c.configs;t&&Object.entries(t).forEach((([t,n])=>{e.inputs[t](n,void 0,!1)})),e.inputs[o.pinId](o.value,void 0,!1),e.run()}else{C[r.id]={};const{env:i}=t,c={open({todo:e,frameId:t,parentScope:n,comProps:o}){var i;const r=C[n.id];if(null==r?void 0:r._refs){C[n.id].parentScope=n;const t=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.configs;t&&Object.entries(t).forEach((([e,t])=>{r._refs.inputs[e](t,void 0,!1)})),r._refs.inputs[e.pinId](e.value,void 0,!1),r._refs.run()}},inputs({frameId:e,parentScope:t,value:n,pinId:o}){const i=h[e];i?(i.parentScope=t,i._refs?i._refs.inputs[o](n):i.todo=i.todo.concat({type:"inputs",todo:{pinId:o,value:n}})):v[e]?v[e].todo.push({frameId:e,parentScope:t,value:n,pinId:o}):v[e]={parentScope:t,todo:[{value:n,pinId:o}]}},_notifyBindings(e,t){const{bindingsTo:n}=t.model;if(n)for(let t in n)for(let o in h){const i=h[o];if(i.json.coms[t])if(i._refs)f(i._refs,t,n[t],e);else{const o=n[t];i.todo=i.todo.concat({type:"globalVar",todo:{comId:t,bindings:o,value:e}})}}},getGlobalComProps(t){var n;return null===(n=h[e.scenes[0].id]._refs)||void 0===n?void 0:n.get({comId:t})},exeGlobalCom({com:e,value:t,pinId:n}){const o=e.id;I[o]=t,Object.keys(h).forEach((e=>{const i=h[e];if(i.show&&i._refs){const e=i._refs.get({comId:o});e&&e.outputs[n](t,!0,null,!0)}}))}};(0,l.Z)({json:a,getComDef:e=>n.getComDef(e),events:t.events,env:i,ref(e){var t;C[r.id]._refs=e,C[r.id].parentScope=r;const{inputs:n,outputs:i}=e;a.outputs.forEach((e=>{i(e.id,(t=>{var n;null===(n=C[r.id].parentScope)||void 0===n||n.outputs[e.id](t)}))}));const l=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.configs;l&&Object.entries(l).forEach((([t,n])=>{e.inputs[t](n,void 0,!1)})),e.inputs[o.pinId](o.value,void 0,!1),e.run()},onError:n.onError,debug:t.debug,debugLogger:t.debugLogger,logger:n.logger,scenesOperate:c,_context:n},{observable:n.observable})}},inputs({frameId:e,parentScope:t,value:n,pinId:o}){const i=h[e];i?(i.parentScope=t,i._refs?i._refs.inputs[o](n):i.todo=i.todo.concat({type:"inputs",todo:{pinId:o,value:n}})):v[e]?v[e].todo.push({frameId:e,parentScope:t,value:n,pinId:o}):v[e]={parentScope:t,todo:[{value:n,pinId:o}]}},_notifyBindings(e,t){const{bindingsTo:n}=t.model;if(n)for(let t in n)for(let o in h){const i=h[o];if(i.json.coms[t])if(i._refs)f(i._refs,t,n[t],e);else{const o=n[t];i.todo=i.todo.concat({type:"globalVar",todo:{comId:t,bindings:o,value:e}})}}},getGlobalComProps(t){var n;return null===(n=h[e.scenes[0].id]._refs)||void 0===n?void 0:n.get({comId:t})},exeGlobalCom({com:e,value:t,pinId:n}){const o=e.id;I[o]=t,Object.keys(h).forEach((e=>{const i=h[e];if(i.show&&i._refs){const e=i._refs.get({comId:o});e&&e.outputs[n](t,!0,null,!0)}}))}};(0,l.Z)({json:c,getComDef:e=>n.getComDef(e),events:t.events,env:a,ref(e){var t;C[r.id]._refs=e,C[r.id].parentScope=r;const{inputs:n,outputs:i}=e;c.outputs.forEach((e=>{i(e.id,(t=>{var n;null===(n=C[r.id].parentScope)||void 0===n||n.outputs[e.id](t)}))}));const l=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.configs;l&&Object.entries(l).forEach((([t,n])=>{e.inputs[t](n,void 0,!1)})),e.inputs[o.pinId](o.value,void 0,!1),e.run()},onError:n.onError,debug:t.debug,debugLogger:t.debugLogger,logger:n.logger,scenesOperate:d,_context:n},{observable:n.observable})}}},inputs({frameId:e,parentScope:t,value:n,pinId:o}){const i=h[e];i?(i.parentScope=t,i._refs?i._refs.inputs[o](n):i.todo=i.todo.concat({type:"inputs",todo:{pinId:o,value:n}})):v[e]?v[e].todo.push({frameId:e,parentScope:t,value:n,pinId:o}):v[e]={parentScope:t,todo:[{value:n,pinId:o}]}},_notifyBindings(e,t){const{bindingsTo:n}=t.model;if(n)for(let t in n)for(let o in h){const i=h[o];if(i.json.coms[t])if(i._refs)f(i._refs,t,n[t],e);else{const o=n[t];i.todo=i.todo.concat({type:"globalVar",todo:{comId:t,bindings:o,value:e}})}}},getGlobalComProps(t){var n;return null===(n=h[e.scenes[0].id]._refs)||void 0===n?void 0:n.get({comId:t})},exeGlobalCom({com:e,value:t,pinId:n}){const o=e.id;I[o]=t,Object.keys(h).forEach((e=>{const i=h[e];if(i.show&&i._refs){const e=i._refs.get({comId:o});e&&e.outputs[n](t,!0,null,!0)}}))}};return s.scenesOperate=d,Object.assign(Object.assign({},t),{env:s,get disableAutoRun(){return i.disableAutoRun},ref:t.ref((e=>{i._refs=e;const n=i.todo,{inputs:r,outputs:s}=e,l=i.disableAutoRun;i.json.outputs.forEach((e=>{s(e.id,(t=>{var n,o,r;"apply"===e.id?null===(n=i.parentScope)||void 0===n||n.outputs[e.id](t):"module"!==i.type?(i.show=!1,i.todo=[],i._refs=null,null===(o=i.parentScope)||void 0===o||o.outputs[e.id](t),i.parentScope=null,"popup"===i.type?m((e=>e.filter((e=>e!==i.json.id)))):c((e=>e+1))):null===(r=i.parentScope)||void 0===r||r.outputs[e.id](t)}))})),n.length?(n.forEach((({type:t,todo:n})=>{if("inputs"===t)Promise.resolve().then((()=>{r[n.pinId](n.value,o)}));else if("globalVar"===t){const{comId:t,value:o,bindings:i}=n;f(e,t,i,o)}})),i.todo=[]):l||(i.disableAutoRun=!0,Promise.resolve().then((()=>{var e,n;null===(n=null===(e=i.json.inputs)||void 0===e?void 0:e.forEach)||void 0===n||n.call(e,(e=>{const{id:n,mockData:o}=e;let i;if(t.debug&&void 0!==o)try{i=JSON.parse(decodeURIComponent(o))}catch(e){i=o}r[n](i)}))}))),l&&Promise.resolve().then((()=>{e.run()}))})),_env:{loadCSSLazy(){},currentScenes:{close(){i.show=!1,i.todo=[],i._refs=null,"popup"===i.type?m((e=>e.filter((e=>e!==i.json.id)))):c((e=>e+1))}}},scenesOperate:d})}),[]),j=(0,o.useMemo)((()=>g.length?g.map((e=>{const{id:t}=e,n=h[t];return n.show&&i().createElement(u,{key:t,json:Object.assign(Object.assign({},e),{scenesMap:h}),options:E(t),className:n.useEntryAnimation?d.main:"",style:"popup"===n.type?{position:"absolute",top:0,left:0,backgroundColor:"#ffffff00"}:{}})})):null),[r,g]),S=(0,o.useMemo)((()=>p.length?p.map((e=>{const t=h[e].json,{id:n}=t;return i().createElement(u,{key:t.id,json:Object.assign(Object.assign({},t),{scenesMap:h}),options:E(n),style:{position:"absolute",top:0,left:0,backgroundColor:"#ffffff00"}})})):null),[p]);return(0,o.useEffect)((()=>{n.setPerformanceRender("end",(new Date).getTime())}),[]),i().createElement(i().Fragment,null,j,S)}function u({json:e,options:t,style:n={},className:o=""}){return i().createElement(r.Z,{json:e,options:t,style:n,className:o,from:"scene"})}function f(e,t,n,o){const i=e.get({comId:t});i&&Array.isArray(n)&&n.forEach((e=>{let t=i;const n=e.split(".");n.forEach(((e,i)=>{i!==n.length-1?t=t[e]:t[e]=o}))}))}},5415:(e,t,n)=>{n.d(t,{Z:()=>y});var o=n(90359),i=n.n(o),r=n(24318),s=n.n(r);const l=n(68706).Z.locals;let c=!1;var a;!function(e){e.Error="error"}(a||(a={}));const d="__fz-debug-info-container__";let p,u=document.getElementById(d),f=0;const m=({content:e,type:t})=>{const[n,r]=(0,o.useState)([]),s=e=>{const t=`__fz-notification-id-${++f}__`;e=Object.assign({_nid:t},e),r((t=>[...t,e]))},c=e=>{r((t=>t.filter((t=>t._nid!==e))))};return(0,o.useEffect)((()=>{p={add:s,remove:c},e&&p.add({content:e,type:t})}),[]),i().createElement("div",{className:l.container},n.map((e=>i().createElement("div",{key:e._nid,className:l.itemWrap},i().createElement("div",{className:`${l.item} ${l.errorItem}`},i().createElement("svg",{className:l.closeIcon,viewBox:"0 0 1045 1024",xmlns:"http://www.w3.org/2000/svg",onClick:()=>p.remove(e._nid)},i().createElement("path",{d:"M282.517333 213.376l-45.354666 45.162667L489.472 512 237.162667 765.461333l45.354666 45.162667L534.613333 557.354667l252.096 253.269333 45.354667-45.162667-252.288-253.44 252.288-253.482666-45.354667-45.162667L534.613333 466.624l-252.096-253.226667z",fill:"#555555"})),e.content)))))},g=["ResizeObserver loop limit exceeded"],y={init:e=>{c=!1!==e,c&&(window.onerror=function(e,t,n,o,i){if("string"!=typeof e||!g.includes(e))return!1})},error:e=>{var t;if(c){const n=(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(t=null==e?void 0:e.toString)||void 0===t?void 0:t.call(e))||e;if("string"==typeof n&&g.includes(n))return;((e,t)=>{let n={content:"",type:t};if("string"==typeof e)n.content=e;else try{n.content=JSON.stringify(e)}catch(t){console.error("showNotification JSON.stringify Error",t,{message:e})}n.content&&(u?null==p||p.add(n):(u=document.createElement("div"),u.setAttribute("id",d),document.body.appendChild(u),s().render(i().createElement(m,{content:n.content,type:n.type}),u)))})(n,a.Error)}}}},48959:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(90359),i=n.n(o),r=n(22995),s=n(41647),l=n(77966),c=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const a=s.Z.locals;function d({com:e,index:t,env:n,getComDef:o,context:r,scope:s,inputs:l,outputs:c,_inputs:a,_outputs:p,_env:f,template:m,onError:g,logger:y,createPortal:h}){const{id:v,elements:b,style:x}=e;if(b)return i().createElement("div",{key:v,style:x},b.map((e=>d({com:e,index:t,env:n,getComDef:o,context:r,scope:s,inputs:l,outputs:c,_inputs:a,_outputs:p,_env:f,template:m,onError:g,logger:y,createPortal:h}))));{const i=u({com:e,env:n,getComDef:o,context:r,scope:s,inputs:l,outputs:c,_inputs:a,_outputs:p,index:t,_env:f,template:m,onError:g,logger:y,createPortal:h});return null==i?void 0:i.jsx}}function p({scope:e,root:t,slot:n,style:o={},createPortal:r,className:s,params:l,inputs:c,outputs:a,_inputs:p,_outputs:f,wrapper:m,template:h,env:v,_env:b,getComDef:x,context:I,onError:w,logger:C}){const{style:E,comAry:j,comAry2:S}=n;if("smart"===E.layout&&S){const n=null==l?void 0:l.style,u=n||E;return i().createElement("div",{"data-isslot":"1",className:`${y(u)}${t&&s?` ${s}`:""}`,style:Object.assign(Object.assign(Object.assign({},g(u,!!n,t)),o),{display:"inline-block"})},S.map(((t,n)=>d({com:t,index:n,env:v,getComDef:x,context:I,scope:e,inputs:c,outputs:a,_inputs:p,_outputs:f,_env:b,template:h,onError:w,logger:C,createPortal:r}))))}const _=[];if(j.forEach(((t,n)=>{const o=u({com:t,env:v,getComDef:x,context:I,scope:e,inputs:c,outputs:a,_inputs:p,_outputs:f,index:n,_env:b,template:h,onError:w,logger:C,createPortal:r});o&&_.push(o)})),"function"==typeof m)return m(_);{const e=null==l?void 0:l.style,n=e||E;return i().createElement("div",{"data-isslot":"1",className:`${y(n)}${t&&s?` ${s}`:""}`,style:Object.assign(Object.assign({},g(n,!!e,t)),o)},_.map((e=>e.jsx)))}}function u({com:e,env:t,getComDef:n,context:o,scope:r,inputs:s,outputs:l,_inputs:c,_outputs:d,index:p,_env:u,template:m,onError:g,logger:y,createPortal:h}){var v,b;const{id:x,def:I,name:w,children:C,brother:E}=e,j=o.getComInfo(x),{hasPermission:S,permissions:_}=t,O=null===(b=null===(v=null==j?void 0:j.model)||void 0===v?void 0:v.permissions)||void 0===b?void 0:b.id;if(O&&"function"==typeof S&&!S(O)){const e=_.find((e=>e.id===O));return"hintLink"===(null==e?void 0:e.register.noPrivilege)?{id:x,name:w,jsx:i().createElement("div",null,i().createElement("a",{href:e.hintLink,target:"_blank",style:{textDecoration:"underline"}},e.register.title)),style:{}}:void 0}if(n(I)){const v=o.get({comId:x,scope:r,_ioProxy:{inputs:s,outputs:l,_inputs:c,_outputs:d}});if(v){const s=x+(r?r.id:"")+p;return{id:x,jsx:i().createElement(f,{key:s,com:e,getComDef:n,context:o,scope:r,props:v,env:t,_env:u,template:m,onError:g,logger:y,createPortal:h}),name:w,inputs:v.inputsCallable,style:v.style}}return{id:x,jsx:i().createElement("div",{className:a.error},"未找到组件(",I.namespace,"@",I.version," - ",x,")定义."),name:w,style:{}}}return{id:x,jsx:i().createElement("div",{className:a.error},"未找到组件(",I.namespace,"@",I.version,")定义."),name:w,style:{}}}function f({com:e,props:t,scope:n,template:s,env:c,createPortal:d,_env:p,getComDef:u,context:f,onError:g,logger:y}){const{id:v,def:b,name:x,slots:I={}}=e,{data:w,title:C,style:E,inputs:j,outputs:S,_inputs:_,_outputs:O,_notifyBindings:P}=t;(0,o.useMemo)((()=>{const{pxToRem:e,pxToVw:t}=c,n=function({env:e,style:t,def:n}){var o;const i=null===(o=null==e?void 0:e.themes)||void 0===o?void 0:o.comThemes;if(!i)return t.styleAry;let r=t.styleAry;const{themesId:s}=t,{namespace:l}=n;if(s||r)if("_defined"===s);else{const e=i[l];if(Array.isArray(e)){const t=e.find((({id:e})=>e===s));t&&(r=t.styleAry)}}else{const e=i[l];if(Array.isArray(e)){const t=e.find((({isDefault:e})=>e));t&&(r=t.styleAry)}}return r}({env:c,def:b,style:E});if(Array.isArray(n)){const o=(0,r.o4)();if(!o.querySelector(`style[id="${v}"]`)){const i=document.createElement("style");let r="";i.id=v,n.forEach((({css:n,selector:o,global:i})=>{":root"===o&&(o="> *:first-child"),Array.isArray(o)?o.forEach((o=>{r+=h({id:v,css:n,selector:o,global:i,configPxToRem:e,configPxToVw:t})})):r+=h({id:v,css:n,selector:o,global:i,configPxToRem:e,configPxToVw:t})})),i.innerHTML=r,o?o.appendChild(i):document.head.appendChild(i)}}Reflect.deleteProperty(E,"styleAry"),Reflect.deleteProperty(E,"themesId")}),[]);const k=u(b),R=new Proxy(I,{get(e,t){const o=I[t];if(!o)return;let r;n&&(r={id:n.id+"-"+n.frameId,frameId:t,parentComId:v,parent:n});const s=f.get({comId:v,slotId:t,scope:r});return{render(e){const l=null==e?void 0:e.scope;return l&&(r={id:l.id+"-"+l.frameId,frameId:t,parentComId:v,parent:l}),o?i().createElement(m,{key:null==e?void 0:e.key,props:s,currentScope:r,slotId:t,slot:o,params:e,style:E,onError:g,createPortal:d,parentComId:v,logger:y,env:c,_env:p,scope:n,getComDef:u,context:f}):i().createElement("div",{className:a.error},`组件(namespace=${b.namespace}）的插槽(id=${t})`," 未找到.")},get size(){var e,n;return!!(null===(n=null===(e=I[t])||void 0===e?void 0:e.comAry)||void 0===n?void 0:n.length)},_inputs:s._inputs,inputs:s.inputs,outputs:s.outputs}}}),A=(0,o.useMemo)((()=>{if(t.frameId&&t.parentComId){let e=(null==n?void 0:n.parentScope)||n;const o=f.get({comId:t.parentComId,slotId:t.frameId,scope:(null==e?void 0:e.parent)?e:null});if(o)return{get _inputs(){return new Proxy({},{get:(e,t)=>o._inputRegs[t]})}}}}),[]),T=function({style:e,id:t}){const n=[t,a.com];1===e.flex&&n.push(a.flex);return n.join(" ")}({style:E,id:v}),$=function({style:e}){const t={},{width:n,height:o,maxWidth:i,flexX:s}=e;n||s?(0,r.hj)(n)?t.width=n+"px":n&&(t.width=n):t.width="100%";(0,r.hj)(o)?t.height=o+"px":o&&(t.height=o);i&&(t.maxWidth=i);return t}({style:E}),D=function({style:e}){const t={},{width:n,margin:o,marginTop:i,marginLeft:s,marginRight:l,marginBottom:c}=e;if(o)return{margin:o};(0,r.hj)(i)&&(t.marginTop=i+"px");(0,r.hj)(s)&&("number"==typeof n||s<0?t.marginLeft=s+"px":t.paddingLeft=s+"px");(0,r.hj)(l)&&("number"==typeof n||l<0?t.marginRight=l+"px":t.paddingRight=l+"px");(0,r.hj)(c)&&(t.marginBottom=c+"px");return t}({style:E}),L={};if(["fixed","absolute"].includes(E.position)){const{top:e,left:t,right:n,bottom:o}=E;(e||(0,r.hj)(e))&&(L.top=(0,r.hj)(e)?e+"px":e),(o||(0,r.hj)(o))&&(L.bottom=(0,r.hj)(o)?o+"px":o),(t||(0,r.hj)(t))&&(L.left=(0,r.hj)(t)?t+"px":t),(n||(0,r.hj)(n))&&(L.right=(0,r.hj)(n)?n+"px":n),"fixed"===E.position?L.zIndex=1e3:"absolute"===E.position&&(L.zIndex=10)}let F=k.runtime({id:v,env:c,_env:p,data:w,name:x,title:C,style:E,inputs:j,outputs:S,_inputs:_,_outputs:O,_notifyBindings:P,slots:R,createPortal:d,parentSlot:A,onError:g,logger:y});return"function"==typeof s&&(F=s({id:v,jsx:F,name:x,scope:n})),F=F?i().createElement("div",{id:v,key:v,style:Object.assign(Object.assign(Object.assign(Object.assign({display:E.display,position:E.position,flex:E.flex},L),$),D),E.ext||{}),className:T},i().createElement(l.Z,{errorTip:`组件 (namespace = ${b.namespace}@${b.version}）渲染错误`},F)):null,F}function m({slotId:e,parentComId:t,props:n,currentScope:s,slot:l,params:c,scope:a,env:d,createPortal:u,_env:f,style:m,getComDef:g,context:y,onError:h,logger:v}){const b=(0,o.useRef)(null),{curScope:x,curProps:I}=(0,o.useMemo)((()=>{let o=s,i=n,a=!1;if(o||"scope"===(null==l?void 0:l.type)&&(o={id:(0,r.Vj)(10,16),frameId:e,parentComId:t},a=!0),c){const n=c.inputValues;if("object"==typeof n){a||(o=Object.assign(Object.assign({},o),{id:o.id+"-"+(0,r.Vj)(10,16),parentScope:o})),i=y.get({comId:t,slotId:e,scope:o});for(let e in n)i.inputs[e](n[e],o)}}return i.run(o),{curScope:o,curProps:i}}),[]);(0,o.useEffect)((()=>{const e=null==c?void 0:c.inputValues;if(e)if(b.current){if("object"==typeof e&&JSON.stringify(b.current)!==JSON.stringify(e)){b.current=e;for(let t in e)I.inputs[t](e[t],x);I.run()}}else b.current=e}),[null==c?void 0:c.inputValues]),(0,o.useEffect)((()=>()=>{I.destroy()}),[]);return(0,o.useMemo)((()=>i().createElement(p,{scope:x,env:d,createPortal:u,_env:f,slot:l,params:c,wrapper:null==c?void 0:c.wrap,template:null==c?void 0:c.itemWrap,getComDef:g,context:y,inputs:null==c?void 0:c.inputs,outputs:null==c?void 0:c.outputs,_inputs:null==c?void 0:c._inputs,_outputs:null==c?void 0:c._outputs,onError:h,logger:v})),[])}function g(e,t,n){const{paddingLeft:o,paddingTop:i,paddingRight:r,paddingBottom:s,background:l,backgroundColor:a,backgroundImage:d,backgroundPosition:p,backgroundRepeat:u,backgroundSize:f,position:m}=e,g=c(e,["paddingLeft","paddingTop","paddingRight","paddingBottom","background","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","position"]);let y={paddingLeft:o||0,paddingTop:i||0,paddingRight:r||0,paddingBottom:s||0,backgroundColor:a||(n?"#ffffff":void 0),backgroundImage:d,backgroundPosition:p,backgroundRepeat:u,backgroundSize:f};if(l){if("object"==typeof l){const{background:e,backgroundImage:t,backgroundColor:n,backgroundRepeat:o,backgroundSize:i}=l;y.backgroundRepeat=o,y.backgroundSize=i,e?y.background=e:(y.backgroundImage=t,y.backgroundColor=n)}else y.background=l}return t&&(y=Object.assign(y,g)),y}function y(e){var t,n;const o=[a.slot,"slot"],i=e;if(i){"flex-column"==(null===(t=i.layout)||void 0===t?void 0:t.toLowerCase())?o.push(a.lyFlexColumn):"flex-row"==(null===(n=i.layout)||void 0===n?void 0:n.toLowerCase())&&o.push(a.lyFlexRow);const e=i.justifyContent;e&&("FLEX-START"===e.toUpperCase()?o.push(a.justifyContentFlexStart):"CENTER"===e.toUpperCase()?o.push(a.justifyContentFlexCenter):"FLEX-END"===e.toUpperCase()?o.push(a.justifyContentFlexFlexEnd):"SPACE-AROUND"===e.toUpperCase()?o.push(a.justifyContentFlexSpaceAround):"SPACE-BETWEEN"===e.toUpperCase()&&o.push(a.justifyContentFlexSpaceBetween));const r=i.alignItems;r&&("FLEX-START"===r.toUpperCase()?o.push(a.alignItemsFlexStart):"CENTER"===r.toUpperCase()?o.push(a.alignItemsFlexCenter):"FLEX-END"===r.toUpperCase()&&o.push(a.alignItemsFlexFlexEnd))}return o.join(" ")}function h({id:e,css:t,selector:n,global:o,configPxToRem:i,configPxToVw:s}){return`\n    ${o?"":`#${e} `}${n.replace(/\{id\}/g,`${e}`)} {\n      ${Object.keys(t).map((e=>{let n=t[e];return i&&"string"==typeof n&&-1!==n.indexOf("px")?n=(0,r.Q1)(n):s&&"string"==typeof n&&-1!==n.indexOf("px")&&(n=(0,r.Ok)(n)),`${(0,r.Lc)(e)}: ${n};`})).join("\n")}\n    }\n  `}},50828:(e,t,n)=>{n.r(t),n.d(t,{MyBricksRenderProvider:()=>C,hijackReactcreateElement:()=>a.O,observable:()=>a.L,render:()=>j,useMyBricksRenderContext:()=>E});var o=n(90359),i=n.n(o),r=n(73934),s=n(1264),l=n(69332),c=n(617),a=n(44242),d=n(41647),p=n(94555),u=n(6536),f=n(68706),m=n(33970),g=n(5415),y=n(27579),h=n(22995),v=n(53002),b=n(2050);function x(e,t){e.use({target:t})}console.log(`%c ${s.u2} %c@${s.i8}`,"color:#FFF;background:#fa6400","","");class I{constructor(e){this.options=e,this.performance={render:{start:window.MYBRICKS_PC_FMP_START||(new Date).getTime(),end:null,time:null},callConnectorTimes:[]},this.onCompleteCallBacks=[],this.comDefs={},this.onError=e=>{console.error(e),g.Z.error(e)},this.observable=a.L;const{env:t,debug:n,observable:o,onError:i,plugins:r=[]}=e;this.mode=n?"development":"production",o?this.observable=o:(0,a.O)({pxToRem:t.pxToRem,pxToVw:t.pxToVw});const s=(0,h.o4)();x(d.Z,s),x(p.Z,s),x(u.Z,s),x(f.Z,s);const l=null==t?void 0:t.pxToRem;if(l){const{enableAdaptive:e=!1,landscapeWidth:t=1440}=l,n=document.documentElement;if(e){const e=()=>{n.style.fontSize=n.clientWidth/(t/12)+"px"};e(),window.addEventListener("resize",e)}else n.style.fontSize="12px"}const{onCompleteCallBacks:m}=this;if(t.runtime||(t.runtime={onComplete(e){m.push(e)}}),t.i18n||(t.i18n=e=>e),t.renderModule){const e=t.renderModule;t.renderModule=(n,o)=>e(n,Object.assign(Object.assign({},o),{env:t,_isNestedRender:!0}))}else t.renderModule=(e,n)=>j(e,Object.assign(Object.assign({},n),{env:t,_isNestedRender:!0}));if(t.renderCom){const e=t.renderCom;t.renderCom=(t,n)=>e(t,Object.assign(Object.assign({},n),{_isNestedRender:!0}))}else t.renderCom=(e,t)=>j(e,Object.assign(Object.assign({},t),{_isNestedRender:!0}));const y=document.body;t.canvas||(t.canvas={get type(){return y.clientWidth<=414?"mobile":"pc"}}),"canvasElement"in t||(t.canvasElement=y);window.RENDER_WEB_PERFORMANCE={getPerformance:this.getPerformance.bind(this)},this.initOther(),this.initComdefs();[new c.Z].concat(r).forEach((e=>{e.apply(this)}))}initOther(){const{env:e}=this.options;e.silent&&(0,m.JE)(),g.Z.init(e.showErrorNotification),this.logger={info:console.info,trace:console.trace,warn:console.warn,error:e=>{console.error(e),g.Z.error(e)}}}initComdefs(){const e=(t,n)=>{t.forEach((t=>{t.comAray?e(t.comAray,n):n[`${t.namespace}-${t.version}`]=t}))},{comDefs:t}=this.options,{comDefs:n}=this;t&&Object.assign(n,t);let o=[...window.__comlibs_edit_||[],...window.__comlibs_rt_||[]];o.push(v.Z),o.forEach((t=>{const o=t.comAray;o&&Array.isArray(o)&&e(o,n)}))}getComDef(e){const{comDefs:t}=this,n=t[e.namespace+"-"+e.version];if(!n){const n=[];for(let o in t)o.startsWith(e.namespace+"-")&&n.push(t[o]);if(n&&n.length>0){n.sort(((e,t)=>(0,h.yC)(e.version,t.version)));const t=n[0];return console.warn(`【Mybricks】组件${e.namespace+"@"+e.version}未找到，使用${t.namespace}@${t.version}代替.`),t}return console.error(`组件${e.namespace+"@"+e.version}未找到，请确定是否存在该组件以及对应的版本号.`),null}return n}getPerformance(){return this.performance}setPerformanceRender(e,t){const n=this.performance.render;n[e]=t,"end"===e&&(n.time=t-n.start)}setPerformanceCallConnectorTimes(e){this.performance.callConnectorTimes.push(e)}}const w=(0,o.createContext)({});function C({children:e,value:t}){return(0,o.useEffect)((()=>()=>{t.onCompleteCallBacks.forEach((e=>{e()}))}),[]),i().createElement(w.Provider,{value:t},e)}function E(){return(0,o.useContext)(w)}function j(e,t){var n;let o=e;if((t.env.edit||(null===(n=t.env.runtime)||void 0===n?void 0:n.debug))&&(o=JSON.parse(JSON.stringify(e))),o){let e=null;if("scenes"in o?((t._isNestedRender||t.debug)&&(t.env=(0,h.p$)(t.env)),(0,b.An)(o),e=i().createElement(l.Z,{json:o,options:t})):o.slot&&(t.env.edit&&"module"===o.type&&(0,b.QA)(o),e=i().createElement(r.Z,{json:o,options:t,root:"module"!==o.type})),!e){const e=new I(t);return(0,y.Z)({json:o,getComDef:t=>e.getComDef(t),events:t.events,env:t.env,ref(e){const{inputs:n}=e,i=o.inputs;n&&Array.isArray(i)&&i.forEach((e=>{const{id:o,mockData:i}=e;let r;if(t.debug&&void 0!==i)try{r=JSON.parse(decodeURIComponent(i))}catch(e){r=i}n[o](r)})),e.run()},onError:e.onError,debug:t.debug,debugLogger:t.debugLogger,logger:e.logger,scenesOperate:t.scenesOperate,_context:e},{observable:e.observable}),null}return t._isNestedRender?e:i().createElement(C,{value:new I(t)},e)}return null}},21358:(e,t,n)=>{n.d(t,{ep:()=>o.e,in:()=>s,kU:()=>r,st:()=>i.s});var o=n(30627),i=n(42032);const r=new WeakMap,s=new WeakMap},42032:(e,t,n)=>{n.d(t,{s:()=>i});var o=n(21358);const i=new class{constructor(){this.reactionStack=[]}regist(e){let t=this.getCurrentReaction();t&&o.ep.registReaction(t,e)}autoRun(e,t){const{reactionStack:n}=this;if(-1===n.indexOf(e))try{return n.push(e),t()}finally{n.pop()}}getCurrentReaction(){const{reactionStack:e}=this;return e[e.length-1]}}},30627:(e,t,n)=>{n.d(t,{e:()=>s});var o=n(22995),i=n(21358);function r(e){e()}const s=new class{constructor(){this.taskMap=new WeakMap,this.reactionToTaskMap=new WeakMap}addTask(e){this.taskMap.set(e,new Map)}deleteTask(e){if(!(0,o.Kn)(e))return;const t=i.kU.get(e);i.kU.delete(e),i.in.delete(t);this.taskMap.get(t);this.taskMap.delete(t)}deleteReaction(e){let t=this.reactionToTaskMap.get(e);t&&(this.reactionToTaskMap.delete(e),t.forEach((t=>{t.forEach((t=>{t.delete(e)}))})))}registReaction(e,{target:t,key:n}){const o=this.taskMap.get(t);if(o){let t=o.get(n);t||(t=new Set,o.set(n,t)),t.has(e)||t.add(e);let i=this.reactionToTaskMap.get(e);i||(i=new Set,this.reactionToTaskMap.set(e,i)),i.has(o)||i.add(o)}}getReactions({target:e,key:t}){const n=this.taskMap.get(e);if(!n)return[];return n.get(t)||[]}runTask(e){const t=this.getReactions(e);t.size&&t.forEach(r)}}},26234:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(44242),i=n(22995),r=n(21358);const s={get:function(e,t){const n=e[t];if(["$$typeof","constructor"].includes(t)||e.__model_style__&&"display"!==t)return n;if(r.st.regist({target:e,key:t}),n instanceof FormData)return n;const s=r.in.get(n);return(0,i.Kn)(n)?s||(0,o.L)(n):s||n},set:function(e,t,n){(0,i.Kn)(n)&&(n=r.kU.get(n)||n);const o=Object.hasOwnProperty.call(e,t),s=e[t];e[t]=n;let l=!1;switch(!0){case!o||Array.isArray(e)&&"length"===t:case n!==s:l=!0}return l&&(r.ep.runTask({target:e,key:t}),r.ep.deleteTask(r.in.get(s))),!0}}},44242:(e,t,n)=>{n.d(t,{L:()=>m,O:()=>d});var o=n(90359),i=n.n(o),r=n(21358),s=n(22995),l=n(26234);const c="__render-web-createElement__";let a;function d(e){const{pxToRem:t,pxToVw:n}=e;i()[c]||(i()[c]=!0,a=i().createElement,i().createElement=function(...e){let[o,r]=e;if(r){const l=r.style;if(t&&l?Object.keys(l).forEach((e=>{const t=l[e];"string"==typeof t&&-1!==t.indexOf("px")&&(l[e]=(0,s.Q1)(t))})):n&&l&&Object.keys(l).forEach((e=>{const t=l[e];"string"==typeof t&&-1!==t.indexOf("px")&&(l[e]=(0,s.Ok)(t))})),e.length>0&&"function"==typeof o){if(!o.prototype||!(o.prototype instanceof i().Component)&&void 0===o.prototype.isReactComponent){const t=u(o);e.splice(0,1,t)}return a(...e)}if("object"==typeof o&&o.$$typeof===Symbol.for("react.forward_ref")){const t=u(o,!0);return e.splice(0,1,t),a(...e)}return a(...e)}return a(...e)})}const p="__enhanced__";function u(e,t=!1){let n=e[p];if(!n){t?(n=(0,o.memo)(e),n.render=f(e.render,!1)):n=f(e);try{e[p]=n}catch(e){}}const i=Object.getOwnPropertyNames(e);return i&&i.forEach((o=>{try{t&&"render"===o||(n[o]=e[o])}catch(e){console.error(e)}})),n}function f(e,t=!0){function n(t,n){var i;const r=(0,o.useRef)(null),[,s]=(0,o.useState)([]);let l;return(0,o.useMemo)((()=>{r.current||(r.current=new g((()=>s([]))))}),[]),(0,o.useEffect)((()=>()=>{var e;null===(e=r.current)||void 0===e||e.destroy(),r.current=null}),[]),null===(i=r.current)||void 0===i||i.track((()=>{l=e(t,n)})),l}return n.displayName=e.displayName||e.name,t?(0,o.memo)(n):n}function m(e){return(0,s.Kn)(e)?r.kU.has(e)?e:r.in.get(e)||function(e){const t=l.Z,n=new Proxy(e,t);return r.in.set(e,n),r.kU.set(n,e),r.ep.addTask(e),n}(e):{}}class g{constructor(e){this.update=e}track(e){r.st.autoRun(this.update,e)}destroy(){r.ep.deleteReaction(this.update)}}},617:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(90359),i=n.n(o),r=n(24318),s=n.n(r),l=n(22995),c=n(94655);const a=c.Z.locals,d=i().createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10635",width:"12",height:"12"},i().createElement("path",{d:"M219.428571 73.142857v877.714286H73.142857V73.142857zM365.714286 73.142857l585.142857 438.857143-577.828572 438.857143L365.714286 599.771429","p-id":"10636",fill:"#707070"}));function p({resume:e}){return i().createElement("div",{className:a.debugger},i().createElement("div",{className:a.titlebar},i().createElement("div",null,"已在交互视图中暂停"),i().createElement("div",{className:a.resume,onClick:e},d)))}class u{constructor(){}apply(e){const{options:t,mode:n}=e,{env:o,debug:i,onError:r}=t;if("development"===n&&"function"==typeof i){const n=new f(o),{log:s,onResume:a}=i({resume:()=>{n.next()},ignoreAll:e=>{n.setIgnoreWait(e),e&&n.next(!0)}});n.setResume(a),e.debuggerPanel=n,t.debugLogger=s,e.onError=r,c.Z.use({target:(0,l.o4)()})}}}class f{constructor(e){this.env=e,this.isReact18=!!s().createRoot,this.resume=()=>{},this._pending=!1,this._ignoreWait=!1,this._waitCount=0,this._waitBreakpointIds=[],this._waitIdToResolvesMap={}}setResume(e){this.resume=e}open(){if(this.dom)this.dom.style.visibility="visible";else{const e=document.createElement("div"),t=this.env.canvasElement;if(this.canvas=t,this.dom=e,e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.zIndex="100000",e.style.visibility="visible",t.appendChild(e),this.isReact18){const t=s().createRoot(e);t.render(i().createElement(p,{resume:this.resume})),this.root=t}else s().render(i().createElement(p,{resume:this.resume}),e)}}close(){this.dom&&(this.dom.style.visibility="hidden")}destroy(){this.dom&&requestAnimationFrame((()=>{this.isReact18?this.root.unmount():s().unmountComponentAtNode(this.dom),this.root=null,this.canvas.removeChild(this.dom),this.canvas=null,this.dom=null}))}hasBreakpoint(e){return!this._ignoreWait&&(this._pending||e.isBreakpoint)}wait(e,t){return new Promise((n=>{if(this._ignoreWait)n();else{const o=this._waitBreakpointIds.length>0;if(o||t(),this.open(),this._pending=!0,e.isBreakpoint){if(o){const e=this._waitBreakpointIds[0];this._waitIdToResolvesMap[e].push(t)}const i=this._waitCount+++e.id;this._waitBreakpointIds.unshift(i),this._waitIdToResolvesMap[i]=[n]}else{const e=this._waitBreakpointIds[0];this._waitIdToResolvesMap[e].push(n)}}}))}next(e=!1){if(e)for(;this._waitBreakpointIds.length;)this.next();else{const e=this._waitBreakpointIds.pop(),t=this._waitIdToResolvesMap[e];t&&t.forEach((e=>e())),this._waitBreakpointIds.length||(this._pending=!1,this.close())}}setIgnoreWait(e){this._ignoreWait=e}}},2050:(e,t,n)=>{n.d(t,{An:()=>i,QA:()=>r});var o=n(84722);function i(e){const{global:t,modules:n,scenes:o}=e;if(!o)return e;if(t){const{comsReg:e,consReg:i,pinRels:r,fxFrames:l,pinProxies:c}=t;e&&Object.keys(e).forEach((t=>{e[t].global=!0})),Array.isArray(l)&&l.forEach((t=>{e&&Object.assign(t.coms,e),i&&Object.assign(t.cons,i),r&&Object.assign(t.pinRels,r),c&&Object.assign(t.pinProxies,c)}));const a=new s;n&&Object.entries(n).forEach((([t,n])=>{const{json:o}=n;a.transformSlotComAry(o.slot,o.coms),e&&Object.assign(o.coms,e),i&&Object.assign(o.cons,i),r&&Object.assign(o.pinRels,r),c&&Object.assign(o.pinProxies,c)})),o.forEach((t=>{a.transformSlotComAry(t.slot,t.coms),e&&Object.assign(t.coms,e),i&&Object.assign(t.cons,i),r&&Object.assign(t.pinRels,r),c&&Object.assign(t.pinProxies,c)}))}return e}function r(e){(new s).transformSlotComAry(e.slot,e.coms)}class s{constructor(){this.comIdToSlotComMap={}}transformSlotComAry(e,t){const{comIdToSlotComMap:n}=this,{comAry:i}=e;if("smart"===e.style.layout){const r=i.sort(((e,n)=>{const{id:o}=e,{id:i}=n,r=t[o].model.style,s=r.top,l=r.left,c=t[i].model.style,a=c.top,d=c.left;return s===a?l-d:s-a}));i.forEach((({slots:e})=>{e&&Object.entries(e).forEach((([e,n])=>{this.transformSlotComAry(n,t)}))}));const s=(0,o.Z)(r.map((o=>{const i=o.id,r=t[i],s=r.model.style,l=r.style;return n[i]=o,{id:i,style:{width:l.width,height:l.height,top:"number"==typeof s.bottom?e.style.height-l.height-s.bottom:s.top||0,left:"number"==typeof s.right?e.style.width-l.width-s.right:s.left||0,flexX:s.flexX},constraints:r.constraints}})),{style:{width:e.style.width}}),l=e=>{const o=[];return e.forEach((e=>{const{id:i,style:r,elements:s}=e;if(Array.isArray(s))Reflect.deleteProperty(r,"height"),o.push(Object.assign(Object.assign({},e),{elements:l(s)}));else{const e=t[i].model.style;e.position="relative","auto"===e.height&&(e.height="fit-content"),1===e.flexY&&Reflect.deleteProperty(e,"height"),r.flex?(e.flex=r.flex,e.margin=r.margin,Reflect.deleteProperty(e,"width"),Reflect.deleteProperty(e,"maxWidth")):"auto"===r.width?(e.margin=r.margin,e.width="auto",Reflect.deleteProperty(e,"maxWidth")):(e.marginTop=r.marginTop,e.marginLeft=r.marginLeft),o.push(n[i])}})),o};e.comAry2=l(s)}else i.forEach((e=>{const{slots:n}=e;n&&Object.entries(n).forEach((([e,n])=>{this.transformSlotComAry(n,t)}))}))}isSameGroup(e){if(e.length<2)return!0;let t=!1,n=!1;for(let o=0;o<e.length;o++){if(e[o].tempElements?t=!0:n=!0,t&&n)break}return t!==n}transformComAry2(e,t,{com:n,parentCom:o,isSameGroup:i=!1}){const r=[],s=[],l={};let c=0;if(e.forEach((e=>{if(e.def)r.push(e);else if(e.flexDirection){const a=e.elements;if(1!==a.length&&this.isSameGroup(a)){const o={display:"flex",flexDirection:e.flexDirection,marginTop:e.marginTop,height:"fit-content"},d=this.transformComAry2(a,t,{com:e,parentCom:n,isSameGroup:!0});if(d.some((e=>e.style.flex))){"column"===e.flexDirection&&d.forEach((e=>{Reflect.deleteProperty(e.style,"flex")}));const t=e.width;let r;s.push(t),c+=t,l[s.length-1]=o,r=i?"row"===n.flexDirection?0:n.width-e.marginLeft-e.width:e.flexDirection!==e.parentFlexDirection&&"row"!==e.parentFlexDirection||"row"!==e.flexDirection?n.width-n.marginLeft-e.width-e.marginLeft:0,o.margin=`${e.marginTop}px ${r}px 0px ${e.marginLeft}px`}else{let t;t=i?"row"===n.flexDirection?0:n.width-e.marginLeft-e.width:n.width-n.marginLeft-e.width-e.marginLeft,t===e.marginLeft?o.justifyContent="center":(o.marginLeft=e.marginLeft,o.width="fit-content")}"column"===e.flexDirection&&"center"===o.justifyContent?r.push({id:e.id,style:{display:"flex",justifyContent:"center"},elements:[{id:e.id,style:o,elements:d}]}):r.push({id:e.id,style:o,elements:d})}else if("row"===e.flexDirection){const d={display:"flex",flexDirection:e.flexDirection,marginTop:e.marginTop,height:"fit-content"},p=this.transformComAry2(a,t,{com:n,parentCom:o});if(p.some((e=>e.style.flex))){"column"===e.flexDirection&&(console.log(41,"🐱 分开处理 - 容器是纵向的，把flex数据干掉 => "),p.forEach((e=>{Reflect.deleteProperty(e.style,"flex")})));const t=e.width;let o;s.push(t),c+=t,l[s.length-1]=d,o=i?"row"===n.flexDirection?0:n.width-e.marginLeft-e.width:n.width-n.marginLeft-e.width-e.marginLeft,d.margin=`${e.marginTop}px ${o}px 0px ${e.marginLeft}px`}else{let t;t=i?"row"===n.flexDirection?0:n.width-e.marginLeft-e.width:n.width-n.marginLeft-e.width-e.marginLeft,t===e.marginLeft?d.justifyContent="center":(d.marginLeft=e.marginLeft,d.width="fit-content",console.log("观察这里，可能出现的问题: ",t),d.marginRight=t)}r.push({id:e.id,style:d,elements:p})}else if("column"!==e.parentFlexDirection&&e.parentFlexDirection){const d={display:"flex",flexDirection:e.flexDirection,marginTop:e.marginTop,height:"fit-content"},p=this.transformComAry2(a,t,{com:n,parentCom:o});if(p.some((e=>e.style.flex))){"column"===e.flexDirection&&p.forEach((e=>{Reflect.deleteProperty(e.style,"flex")}));const t=e.width;let o;s.push(t),c+=t,l[s.length-1]=d,o=i?"row"===n.flexDirection?0:n.width-e.marginLeft-e.width:e.parentFlexDirection!==e.flexDirection?0:n.width-n.marginLeft-e.width-e.marginLeft,d.margin=`${e.marginTop}px ${o}px 0px ${e.marginLeft}px`}d.marginLeft=e.marginLeft,r.push({id:e.id,style:d,elements:p})}else{const i=this.transformComAry2(a.map(((t,n)=>Object.assign(Object.assign({},t),{marginTop:n?t.marginTop:t.marginTop+e.marginTop,marginLeft:t.marginLeft+e.marginLeft}))),t,{com:n,parentCom:o});r.push(...i)}}else{const a={display:"flex",flexDirection:e.flexDirection,marginTop:e.marginTop,height:"fit-content"},d=e.elements[0],p=t[d.id],u=p.model.style;if(u.flexX){u.width="100%",Reflect.deleteProperty(u,"maxWidth");const t=p.style.width;let r;s.push(t),c+=t,l[s.length-1]=a,r=i?"row"===n.flexDirection?0:n.width-e.marginLeft-e.width:"row"===n.flexDirection&&"row"===o.flexDirection&&"row"===e.parentFlexDirection?0:n.width-n.marginLeft-e.width-e.marginLeft,a.margin=`${e.marginTop}px ${r}px 0px ${e.marginLeft}px`}else{let t;t=i?"row"===n.flexDirection?0:n.width-e.marginLeft-e.width:n.width-e.width-e.marginLeft,t===e.marginLeft?a.justifyContent="center":a.marginLeft=e.marginLeft}r.push({id:e.id,style:a,elements:e.elements})}})),s.length){const e=function(e){let t=Math.min(...e);for(;t>1;){let n=!0;for(let o=0;o<e.length;o++)if(e[o]%t!=0){n=!1;break}if(n)break;t--}return t}(s);s.forEach(((t,n)=>{l[n].flex=t/e}))}return r}traverseElementsToSlotComAry2(e,t){const{comIdToSlotComMap:n}=this,o=[];return e.forEach((e=>{const{id:i,elements:r,tempElements:s,marginLeft:l,marginTop:c,flexDirection:a,height:d,width:p}=e;if(Array.isArray(r))o.push(Object.assign(Object.assign({},e),{elements:this.traverseElementsToSlotComAry2(r,t)}));else if(Array.isArray(s))o.push(Object.assign(Object.assign({},e),{elements:this.traverseElementsToSlotComAry2(s,t)}));else{const e=t[i].model.style;e.position="relative",e.marginTop=c,e.marginLeft=l,o.push(n[i])}})),o}}},10365:(e,t,n)=>{function o(e,t){return i(r(c(e)),t)}function i(e,t){const n=[],{top:o,left:i,width:r,flexDirection:s}=t.style;if("column"===s){e.sort(((e,t)=>e.style.top-t.style.top));let t=o;e.forEach((e=>{const{id:o,style:s}=e,l=s.top-t,c=r-s.left-i-s.width;if(s.flexX){const t=s.left-i;s.flexDirection?n.push({id:o,style:{width:"auto",margin:`${l}px ${c}px 0px ${t}px`,display:"flex",flexDirection:s.flexDirection,backgroundColor:s.backgroundColor},elements:e.elements}):n.push({id:o,style:{width:"auto",height:s.height,margin:`${l}px ${c}px 0px ${t}px`,backgroundColor:s.backgroundColor}})}else s.left===c?s.flexDirection?n.push({id:o,elements:e.elements,style:{marginTop:l,display:"flex",flexDirection:s.flexDirection,justifyContent:"center"}}):n.push({id:o,elements:[{id:o,style:{width:s.width,height:s.height,backgroundColor:s.backgroundColor}}],style:{marginTop:l,display:"flex",justifyContent:"center"}}):s.flexDirection?n.push({id:o,elements:e.elements,style:{marginTop:l,marginLeft:s.left-i,display:"flex",flexDirection:s.flexDirection,backgroundColor:s.backgroundColor}}):n.push({id:o,style:{width:s.width,height:s.height,marginTop:l,marginLeft:s.left-i,backgroundColor:s.backgroundColor}});t=t+l+s.height}))}else{e.sort(((e,t)=>e.style.left-t.style.left));const t=[],r={};let s=0,l=i;if(e.forEach(((e,i)=>{const{id:c,style:a}=e,d=a.left-l,p=a.top-o;a.flexX?(t.push(a.width),s+=a.width,r[t.length-1]=i,a.flexDirection?n.push({id:c,style:{display:"flex",flexDirection:a.flexDirection,margin:`${p}px 0px 0px ${d}px`},elements:e.elements}):n.push({id:c,style:{height:a.height,margin:`${p}px 0px 0px ${d}px`,backgroundColor:a.backgroundColor}})):a.flexDirection?n.push({id:c,style:{marginTop:p,marginLeft:d,display:"flex",flexDirection:a.flexDirection},elements:e.elements}):n.push({id:e.id,style:{width:a.width,height:a.height,marginTop:p,marginLeft:d,backgroundColor:a.backgroundColor}}),l=l+d+e.style.width})),t.length){const e=function(e){let t=Math.min(...e);for(;t>1;){let n=!0;for(let o=0;o<e.length;o++)if(e[o]%t!=0){n=!1;break}if(n)break;t--}return t}(t);t.forEach(((t,o)=>{n[r[o]].style.flex=t/e}))}}return n.map(((t,n)=>Object.assign(Object.assign({},t),{tempStyle:e[n].style})))}function r(e){const t=function(e){const t={},n={},o={},i=e.length;return e.forEach((t=>{o[t.id]=t;let r=n[t.id];r||(r=n[t.id]={topElements:[],leftElements:[],rightElements:[],bottomElements:[]});for(let n=0;n<i;n++){const o=e[n];t.id!==o.id&&(o.style.left+o.style.width<=t.style.left&&o.style.top+o.style.height<=t.style.top||o.style.top+o.style.height<=t.style.top&&t.style.left+t.style.width<=o.style.left||o.style.top>=t.style.top+t.style.height&&o.style.left+o.style.width<=t.style.left||o.style.left>=t.style.left+t.style.width&&o.style.top>=t.style.top+t.style.height||(o.style.top>=t.style.top+t.style.height?r.bottomElements.push(o):o.style.top+o.style.height<=t.style.top?r.topElements.push(o):o.style.left>=t.style.left+t.style.width?r.rightElements.push(o):o.style.left+o.style.width<=t.style.left&&r.leftElements.push(o)))}})),Object.entries(n).forEach((([e,n])=>{const i=o[e],r=function(e,t){const n=e.length;let o,i,r;if(n&&1!==n){e.sort(((e,t)=>t.style.top+t.style.height-(e.style.top+e.style.height)));const n=e[0],s=e[1];o=n,i=t.style.top-(n.style.top+n.style.height),r=s.style.top+s.style.height>n.style.top}else{const n=e[0];n&&(o=n,i=t.style.top-(n.style.top+n.style.height)),r=!1}return o?{element:o,space:i,intersect:r,direction:"top"}:null}(n.topElements,i),s=function(e,t){const n=e.length;let o,i,r;if(n&&1!==n){e.sort(((e,t)=>e.style.left-t.style.left));const n=e[0],s=e[1];o=n,i=n.style.left-(t.style.left+t.style.width),r=n.style.left+n.style.width>s.style.left}else{const n=e[0];n&&(o=n,i=n.style.left-(t.style.left+t.style.width)),r=!1}return o?{element:o,space:i,intersect:r,direction:"right"}:null}(n.rightElements,i),l=function(e,t){const n=e.length;let o,i,r;if(n&&1!==n){e.sort(((e,t)=>e.style.top-t.style.top));const n=e[0],s=e[1];o=n,i=n.style.top-(t.style.top+t.style.height),r=n.style.top+n.style.height>s.style.top}else{const n=e[0];n&&(o=n,i=n.style.top-(t.style.top+t.style.height)),r=!1}return o?{element:o,space:i,intersect:r,direction:"bottom"}:null}(n.bottomElements,i),c=function(e,t){const n=e.length;let o,i,r;if(n&&1!==n){e.sort(((e,t)=>t.style.left+t.style.width-(e.style.left+e.style.width)));const n=e[0],s=e[1];o=n,i=t.style.left-(n.style.left+n.style.width),r=s.style.left+s.style.width>n.style.left}else{const n=e[0];n&&(o=n,i=t.style.left-(n.style.left+n.style.width)),r=!1}return o?{element:o,space:i,intersect:r,direction:"left"}:null}(n.leftElements,i);t[e]={top:r,left:c,right:s,bottom:l,single:!c&&!s,spaceSort:[]}})),Object.entries(t).forEach((([e,n])=>{if(n.bottom){const o=t[n.bottom.element.id];o.top&&o.top.element.id===e||(n.bottom=null)}if(n.top){const o=t[n.top.element.id];o.bottom&&o.bottom.element.id===e||(n.top=null)}if(n.left){const o=t[n.left.element.id];o.right&&o.right.element.id===e||(n.left=null)}if(n.right){const o=t[n.right.element.id];o.left&&o.left.element.id===e||(n.right=null)}const o=[n.right,n.bottom,n.left,n.top].reduce(((e,n)=>{let o,i;const r=t[null==e?void 0:e.element.id];if(r&&!e.intersect&&!r.single){r[l[e.direction]].intersect||(o=e)}const s=t[null==n?void 0:n.element.id];if(s&&!n.intersect&&!s.single){s[l[n.direction]].intersect||(i=n)}return o||i?o&&i?o.space>i.space?i:o:o||i:void 0}));n.min=o})),t}(e);let n=[];const o={};return e.forEach((e=>{const i=e.id,r=t[i],{min:s,single:l}=r;if(!s)return n.push(e),void(o[i]={idx1:n.length-1,idx2:null});if(l)n.push(e),o[i]={idx1:n.length-1,idx2:null};else if(!o[i]&&!o[s.element.id]&&!t[s.element.id].single&&i===t[s.element.id].min.element.id){n.push([e,s.element]);const t=n.length-1;o[i]={idx1:t,idx2:0},o[s.element.id]={idx1:t,idx2:1}}})),n=n.filter((e=>e)),e.forEach((e=>{o[e.id]||n.push(e)})),e.length!==n.length?r(c(s(n))):s(c(n))}function s(e){const t=[];return e.forEach((e=>{if(Array.isArray(e)){const[n,o]=e,r=Math.min(n.style.left,o.style.left),s=Math.min(n.style.top,o.style.top),l=Math.max(n.style.left+n.style.width-r,o.style.left+o.style.width-r),c=Math.max(n.style.top+n.style.height-s,o.style.top+o.style.height-s),a=c>=n.style.height+o.style.height?"column":"row",d=n.style.flexDirection,p=o.style.flexDirection;t.push({id:`${n.id},${o.id}`,style:{top:s,left:r,width:l,height:c,flexDirection:a,flexX:e.find((e=>e.style.flexX))?1:null},elements:i((d||p)&&p===a?[n,...o.elements].map((e=>Object.assign(Object.assign({},e),{style:e.tempStyle||e.style}))):e,{style:{width:l,flexDirection:a,top:s,left:r}})})}else t.push(e)})),t}n.d(t,{Z:()=>o});const l={top:"bottom",bottom:"top",left:"right",right:"left"};function c(e){return e.sort(((e,t)=>{const n=e.style,o=t.style;return n.top===o.top?n.left-o.left:n.top-o.top}))}},84722:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(10365);function i(e,t){return(0,o.Z)(e,{style:Object.assign(Object.assign({},t.style),{top:0,left:0,flexDirection:"column"})})}},1264:e=>{e.exports=JSON.parse('{"u2":"@mybricks/render-web","i8":"1.2.46"}')}}]);